{"version":3,"sources":["js/validateForm.js"],"names":["db","firebase","firestore","dataForm","form","document","querySelector","iconPassword","getElementById","btnRegister","btnLogin","fields","expressions","name","lastname","email","password","startForm","readFields","addEventListener","showPassword","listenerNotNull","validateForm","validateField","expresion","input","field","formGroup","formIcon","formMessage","errorMessage","test","value","classList","remove","add","Object","values","includes","style","display","validateFields","e","target","id","preventDefault","keys","length","createNewAccount","alert","authenticationAccount","inputsText","querySelectorAll","inputsSelect","forEach","resetFields","formInputsGroup","group","reset","inputPassword","type","console","log","setAttribute","auth","createUserWithEmailAndPassword","then","userCredential","user","uid","sendData","catch","error","errorCode","code","message","signInWithEmailAndPassword","window","origin","location","href","readUser","collection","doc","set","company","userType","element","event","method"],"mappings":"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","file":"validateForm.8b68de07.js","sourceRoot":"..","sourcesContent":["var db = firebase.firestore();\r\n\r\nconst dataForm = {\r\n\r\n\tform: document.querySelector('form'),\r\n\ticonPassword: document.getElementById('show-password'),\r\n\tbtnRegister: document.getElementById('register'),\r\n\tbtnLogin: document.getElementById('login'),\r\n\r\n\r\n\t// Array with validation results. \r\n\tfields: [],\r\n\r\n\t// Regular expressions for validate fields in the form.\r\n\texpressions: {\r\n\t\tname: /^[a-zA-ZÀ-ÿ\\s]{3,40}$/,\r\n\t\tlastname: /^[a-zA-ZÀ-ÿ\\s]{3,40}$/,\r\n\t\temail: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/,\r\n\t\tpassword: /^(?=\\w*\\d)(?=\\w*[A-Z])(?=\\w*[a-z])\\S{8,16}$/,\r\n\t},\r\n\r\n\tstartForm() {\r\n\r\n\t\t// Initialize reading fields in the form.\r\n\t\tthis.readFields();\r\n\t\tthis.iconPassword.addEventListener('click', this.showPassword);\r\n\t\tthis.listenerNotNull(this.form, 'submit', this.validateForm);\r\n\r\n\t},\r\n\r\n\tvalidateField(expresion, input, field) {\r\n\r\n\t\t// Get elements of input groups.\r\n\t\tlet formGroup = document.getElementById(`group-${field}`);\r\n\t\tlet formIcon = document.querySelector(`#group-${field} .form__validation-state`);\r\n\t\tlet formMessage = document.querySelector(`#error-${field} p`);\r\n\t\tlet errorMessage = document.getElementById('error-message');\r\n\r\n\t\tif ((formGroup !== null) && (formIcon !== null) && (formMessage !== null) && (errorMessage !== null)) {\r\n\r\n\t\t\tif (expresion.test(input.value)) {\r\n\r\n\t\t\t\t// Add class correct on input group.\r\n\t\t\t\tformGroup.classList.remove('form__group-incorrect');\r\n\t\t\t\tformGroup.classList.add('form__group-correct');\r\n\t\t\t\tformIcon.classList.remove('fa-times-circle');\r\n\t\t\t\tformIcon.classList.add('fa-check-circle');\r\n\t\t\t\tformMessage.classList.remove('form__input-error-active');\r\n\r\n\t\t\t\t// Add validation result.\r\n\t\t\t\tthis.fields[field] = true;\r\n\r\n\t\t\t\t// Show or hidden error message.\r\n\t\t\t\tif (Object.values(this.fields).includes(false)) {\r\n\t\t\t\t\terrorMessage.style.display = 'block';\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrorMessage.style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Add class incorrect on input group.\r\n\t\t\t\tformGroup.classList.add('form__group-incorrect');\r\n\t\t\t\tformGroup.classList.remove('form__group-correct');\r\n\t\t\t\tformIcon.classList.add('fa-times-circle');\r\n\t\t\t\tformIcon.classList.remove('fa-check-circle');\r\n\t\t\t\tformMessage.classList.add('form__input-error-active');\r\n\t\t\t\terrorMessage.style.display = 'block';\r\n\t\t\t\tthis.fields[field] = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tvalidateFields(e) {\r\n\r\n\t\t// Custom validation for each field.\r\n\t\tswitch (e.target.id) {\r\n\t\t\tcase 'name':\r\n\t\t\t\tdataForm.validateField(dataForm.expressions.name, e.target, e.target.id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'lastname':\r\n\t\t\t\tdataForm.validateField(dataForm.expressions.lastname, e.target, e.target.id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'email':\r\n\t\t\t\tdataForm.validateField(dataForm.expressions.email, e.target, e.target.id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password':\r\n\t\t\t\tdataForm.validateField(dataForm.expressions.password, e.target, e.target.id);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'company':\r\n\t\t\t\tif (e.target.value) { dataForm.fields[e.target.id] = true };\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'user-type':\r\n\t\t\t\tif (e.target.value) { dataForm.fields[e.target.id] = true };\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\t// Form submit function\r\n\tvalidateForm(e) {\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tif (dataForm.form.id === \"register-form\") {\r\n\t\t\tif (Object.keys(dataForm.fields).length === 6) {\r\n\t\t\t\tif (!dataForm.fields.includes(false)) {\r\n\r\n\t\t\t\t\t// Create account.\r\n\t\t\t\t\tdataForm.createNewAccount();\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Error: Invalid information. Please fill in the form correctly.\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Error: Incomplete form. Please fill in the form correctly.\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (dataForm.form.id === \"login-form\") {\r\n\t\t\tif (Object.keys(dataForm.fields).length === 2) {\r\n\t\t\t\tif (!dataForm.fields.includes(false)) {\r\n\r\n\t\t\t\t\t// Create account.\r\n\t\t\t\t\tdataForm.authenticationAccount();\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Error: Invalid information. Please fill in the form correctly.\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Error: Incomplete form. Please fill in the form correctly.\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\r\n\treadFields() {\r\n\r\n\t\t// Constant reading of fields.\r\n\t\tlet inputsText = document.querySelectorAll('.form__input');\r\n\t\tlet inputsSelect = document.querySelectorAll('.form__input-select');\r\n\r\n\t\t// Reading text input.\r\n\t\tinputsText.forEach(input => {\r\n\t\t\tinput.addEventListener('keyup', this.validateFields);\r\n\t\t\tinput.addEventListener('blur', this.validateFields);\r\n\t\t});\r\n\r\n\t\t// Reading select input.\r\n\t\tinputsSelect.forEach(input => {\r\n\t\t\tinput.addEventListener('click', this.validateFields);\r\n\t\t});\r\n\t},\r\n\r\n\tresetFields(form) {\r\n\r\n\t\tlet formInputsGroup = document.querySelectorAll('.form__group-input');\r\n\r\n\t\t// Reset inputs styles.\r\n\t\tformInputsGroup.forEach((group) => {\r\n\t\t\tgroup.classList.remove('form__group-incorrect');\r\n\t\t\tgroup.classList.remove('form__group-correct');\r\n\t\t})\r\n\r\n\t\t// Reset form.\r\n\t\tform.reset();\r\n\t},\r\n\r\n\tshowPassword() {\r\n\r\n\t\tlet inputPassword = document.getElementById('password');\r\n\t\tlet iconPassword = document.getElementById('password-icon');\r\n\r\n\t\tif (inputPassword.type === 'password') {\r\n\t\t\tinputPassword.type = 'text';\r\n\t\t\tconsole.log(this);\r\n\t\t\ticonPassword.setAttribute('href', './images/sprite.svg#eye-slash');\r\n\r\n\t\t} else {\r\n\t\t\tinputPassword.type = 'password';\r\n\t\t\ticonPassword.setAttribute('href', './images/sprite.svg#eye');\r\n\r\n\t\t}\r\n\t},\r\n\r\n\t// Create account in firebase authentication.\r\n\tcreateNewAccount() {\r\n\r\n\t\tlet email = document.getElementById('email').value;\r\n\t\tlet password = document.getElementById('password').value;\r\n\r\n\t\tfirebase.auth().createUserWithEmailAndPassword(email, password)\r\n\t\t\t.then((userCredential) => {\r\n\t\t\t\t// Signed in\r\n\r\n\t\t\t\tuser.userCredential = userCredential.user.uid;\r\n\t\t\t\tdataForm.sendData();\r\n\t\t\t\tdataForm.resetFields(dataForm.form);\r\n\t\t\t\talert('Successful registration');\r\n\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tdataForm.resetFields(dataForm.form);\r\n\t\t\t\tvar errorCode = error.code;\r\n\t\t\t\tvar errorMessage = error.message;\r\n\t\t\t\talert('Unsuccessful registration')\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t},\r\n\r\n\t// Validate account in Firebase Authentication\r\n\tauthenticationAccount() {\r\n\r\n\t\tlet email = document.getElementById('email').value;\r\n\t\tlet password = document.getElementById('password').value;\r\n\r\n\t\tfirebase.auth().signInWithEmailAndPassword(email, password)\r\n\t\t\t.then((userCredential) => {\r\n\t\t\t\t// Signed in\r\n\t\t\t\tuser.userCredential = userCredential.user.uid;\r\n\t\t\t\tdataForm.resetFields(dataForm.form);\r\n\r\n\t\t\t\tif (window.origin.includes('github.io')) {\r\n\t\t\t\t\tlocation.href = `${window.origin}/Taskify/pages/user.html`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlocation.href = `${window.origin}/pages/user.html`;\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert('User does not exist');\r\n\t\t\t\tdataForm.resetFields(dataForm.form);\r\n\t\t\t\tvar errorCode = error.code;\r\n\t\t\t\tvar errorMessage = error.message;\r\n\t\t\t});\r\n\r\n\t},\r\n\r\n\t// Send user information to Cloud Firestore\r\n\tasync sendData() {\r\n\r\n\t\tdataForm.readUser();\r\n\t\tconsole.log(user);\r\n\r\n\t\tawait db.collection(\"users\").doc(user.userCredential).set(user)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\"Document successfully written!\");\r\n\t\t\t\tlocation.href = `${window.origin}/pages/user.html`;\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(\"Error writing document: \", error);\r\n\t\t\t});\r\n\t},\r\n\r\n\t// Get validated user information.\r\n\treadUser() {\r\n\t\tuser.name = document.getElementById('name').value;\r\n\t\tuser.lastname = document.getElementById('lastname').value;\r\n\t\tuser.email = document.getElementById('email').value;\r\n\t\tuser.company = document.getElementById('company').value;\r\n\t\tuser.userType = document.getElementById('user-type').value;\r\n\t},\r\n\r\n\t// Avoid events on null elements.\r\n\tlistenerNotNull(element, event, method) {\r\n\r\n\t\tif (element !== null) {\r\n\t\t\telement.addEventListener(event, method);\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\r\n\r\n// User information validated.\r\nconst user = {\r\n\tname: '',\r\n\tlastname: '',\r\n\temail: '',\r\n\tcompany: '',\r\n\tuserType: '',\r\n\tuserCredential: '',\r\n}\r\n\r\n// Initialize initial methods of the form.\r\ndataForm.startForm()\r\n\r\n\r\n\r\n\r\n\r\n"]}